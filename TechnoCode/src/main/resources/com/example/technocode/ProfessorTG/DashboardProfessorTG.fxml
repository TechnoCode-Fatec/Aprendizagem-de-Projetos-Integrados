<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox alignment="TOP_CENTER" prefHeight="800.0" prefWidth="1200.0" style="-fx-background-color: #C4C4C4;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.technocode.Controllers.DashboardProfessorTGController">
    <children>
        <!-- Cabeçalho com Informações do Professor -->
        <VBox prefWidth="1200.0" style="-fx-background-color: WHITE; -fx-border-color: #c9c9c9; -fx-border-width: 0 0 1 0;">
            <children>
                <!-- Informações do Professor -->
                <HBox alignment="CENTER_LEFT" prefHeight="50.0" prefWidth="1200.0" style="-fx-spacing: 15; -fx-padding: 10 20 5 20;">
                    <children>
                        <VBox alignment="CENTER_LEFT" style="-fx-spacing: 3;">
                            <children>
                                <Label fx:id="lblNomeProfessor" text="Professor de TG: Prof. João da Silva" textFill="#434343">
                                    <font>
                                        <Font name="Arial Bold" size="14.0" />
                                    </font>
                                </Label>
                                <Label fx:id="lblEmailProfessor" text="joao.silva@fatec.sp.gov.br" textFill="#767676">
                                    <font>
                                        <Font size="12.0" />
                                    </font>
                                </Label>
                            </children>
                        </VBox>
                        <Region HBox.hgrow="ALWAYS" />
                    </children>
                </HBox>
                <!-- Barra de navegação -->
                <HBox alignment="CENTER" prefHeight="50.0" prefWidth="1200.0" style="-fx-spacing: 25; -fx-padding: 5 20 10 20;">
                    <children>
                        <Label alignment="CENTER" prefHeight="47.0" prefWidth="400.0" text="DASHBOARD PROFESSOR DE TG">
                            <font>
                                <Font name="System Bold" size="24.0" />
                            </font>
                        </Label>
                        <Region HBox.hgrow="ALWAYS" />
                        <Button fx:id="btnAtualizar" mnemonicParsing="false" onAction="#atualizarDashboard" prefHeight="34.0" prefWidth="130.0" style="-fx-background-color: B82E1A;" text="Atualizar Dados" textFill="WHITE">
                            <font>
                                <Font size="14.0" />
                            </font>
                        </Button>
                        <Button mnemonicParsing="false" prefHeight="34.0" prefWidth="100.0" style="-fx-background-color: B82E1A;" text="Sair" textFill="WHITE">
                            <font>
                                <Font size="14.0" />
                            </font>
                        </Button>
                    </children>
                </HBox>
            </children>
        </VBox>

        <!-- Conteúdo Principal -->
        <ScrollPane fitToWidth="true" prefHeight="740.0" prefWidth="1200.0" style="-fx-background-color: transparent;" vbarPolicy="ALWAYS">
            <content>
                <VBox alignment="TOP_CENTER" prefWidth="1180.0" style="-fx-spacing: 20; -fx-padding: 20;">
                    <children>
                        <!-- Cards de Estatísticas -->
                        <GridPane hgap="15" style="-fx-background-color: transparent;" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints halignment="CENTER" hgrow="ALWAYS" minWidth="200.0" prefWidth="200.0" />
                                <ColumnConstraints halignment="CENTER" hgrow="ALWAYS" minWidth="200.0" prefWidth="200.0" />
                                <ColumnConstraints halignment="CENTER" hgrow="ALWAYS" minWidth="200.0" prefWidth="200.0" />
                                <ColumnConstraints halignment="CENTER" hgrow="ALWAYS" minWidth="200.0" prefWidth="200.0" />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints minHeight="120.0" prefHeight="120.0" vgrow="NEVER" />
                            </rowConstraints>

                            <!-- Card Total Alunos -->
                            <VBox alignment="CENTER" style="-fx-background-color: #EAEAEA; -fx-background-radius: 8; -fx-padding: 15; -fx-spacing: 5;" GridPane.columnIndex="0">
                                <children>
                                    <Label text="Total de Alunos">
                                        <font>
                                            <Font size="14.0" />
                                        </font>
                                    </Label>
                                    <Label fx:id="lblTotalAlunos" style="-fx-font-weight: bold;" text="0">
                                        <font>
                                            <Font size="32.0" />
                                        </font>
                                    </Label>
                                </children>
                            </VBox>

                            <!-- Card Total Orientadores -->
                            <VBox alignment="CENTER" style="-fx-background-color: #EAEAEA; -fx-background-radius: 8; -fx-padding: 15; -fx-spacing: 5;" GridPane.columnIndex="1">
                                <children>
                                    <Label text="Total de Orientadores">
                                        <font>
                                            <Font size="14.0" />
                                        </font>
                                    </Label>
                                    <Label fx:id="lblTotalOrientadores" style="-fx-font-weight: bold;" text="0">
                                        <font>
                                            <Font size="32.0" />
                                        </font>
                                    </Label>
                                </children>
                            </VBox>

                            <!-- Card Total Seções -->
                            <VBox alignment="CENTER" style="-fx-background-color: #EAEAEA; -fx-background-radius: 8; -fx-padding: 15; -fx-spacing: 5;" GridPane.columnIndex="2">
                                <children>
                                    <Label text="Total de Seções">
                                        <font>
                                            <Font size="14.0" />
                                        </font>
                                    </Label>
                                    <Label fx:id="lblTotalSecoes" style="-fx-font-weight: bold;" text="0">
                                        <font>
                                            <Font size="32.0" />
                                        </font>
                                    </Label>
                                </children>
                            </VBox>

                            <!-- Card Progresso Geral -->
                            <VBox alignment="CENTER" style="-fx-background-color: #EAEAEA; -fx-background-radius: 8; -fx-padding: 15; -fx-spacing: 5;" GridPane.columnIndex="3">
                                <children>
                                    <Label text="Progresso Geral">
                                        <font>
                                            <Font size="14.0" />
                                        </font>
                                    </Label>
                                    <Label fx:id="lblPercentualProgresso" style="-fx-font-weight: bold;" text="0%">
                                        <font>
                                            <Font size="32.0" />
                                        </font>
                                    </Label>
                                </children>
                            </VBox>
                        </GridPane>

                        <!-- Cards de Status das Seções -->
                        <GridPane hgap="15" style="-fx-background-color: transparent;" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints halignment="CENTER" hgrow="ALWAYS" minWidth="200.0" prefWidth="200.0" />
                                <ColumnConstraints halignment="CENTER" hgrow="ALWAYS" minWidth="200.0" prefWidth="200.0" />
                                <ColumnConstraints halignment="CENTER" hgrow="ALWAYS" minWidth="200.0" prefWidth="200.0" />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints minHeight="100.0" prefHeight="100.0" vgrow="NEVER" />
                            </rowConstraints>

                            <!-- Card Seções Aprovadas -->
                            <VBox alignment="CENTER" style="-fx-background-color: #4CAF50; -fx-background-radius: 8; -fx-padding: 15; -fx-spacing: 5;" GridPane.columnIndex="0">
                                <children>
                                    <Label text="Seções Aprovadas" textFill="WHITE">
                                        <font>
                                            <Font size="14.0" />
                                        </font>
                                    </Label>
                                    <Label fx:id="lblSecoesAprovadas" style="-fx-font-weight: bold;" text="0" textFill="WHITE">
                                        <font>
                                            <Font size="28.0" />
                                        </font>
                                    </Label>
                                </children>
                            </VBox>

                            <!-- Card Seções Reprovadas -->
                            <VBox alignment="CENTER" style="-fx-background-color: #F44336; -fx-background-radius: 8; -fx-padding: 15; -fx-spacing: 5;" GridPane.columnIndex="1">
                                <children>
                                    <Label text="Seções Reprovadas" textFill="WHITE">
                                        <font>
                                            <Font size="14.0" />
                                        </font>
                                    </Label>
                                    <Label fx:id="lblSecoesReprovadas" style="-fx-font-weight: bold;" text="0" textFill="WHITE">
                                        <font>
                                            <Font size="28.0" />
                                        </font>
                                    </Label>
                                </children>
                            </VBox>

                            <!-- Card Seções Pendentes -->
                            <VBox alignment="CENTER" style="-fx-background-color: #ffd600; -fx-background-radius: 8; -fx-padding: 15; -fx-spacing: 5;" GridPane.columnIndex="2">
                                <children>
                                    <Label text="Seções Pendentes" textFill="WHITE">
                                        <font>
                                            <Font size="14.0" />
                                        </font>
                                    </Label>
                                    <Label fx:id="lblSecoesPendentes" style="-fx-font-weight: bold;" text="0" textFill="WHITE">
                                        <font>
                                            <Font size="28.0" />
                                        </font>
                                    </Label>
                                </children>
                            </VBox>
                        </GridPane>

                        <!-- Gráficos -->
                        <HBox alignment="CENTER" spacing="20" style="-fx-padding: 10;">
                            <children>
                                <!-- Gráfico de Pizza -->
                                <VBox alignment="CENTER" prefWidth="500.0" style="-fx-background-color: #EAEAEA; -fx-background-radius: 8; -fx-padding: 15; -fx-spacing: 10;">
                                    <children>
                                        <PieChart fx:id="pieChartSecoes" prefHeight="350.0" prefWidth="470.0" />
                                    </children>
                                </VBox>

                                <!-- Gráfico de Barras -->
                                <VBox alignment="CENTER" prefWidth="500.0" style="-fx-background-color: #EAEAEA; -fx-background-radius: 8; -fx-padding: 15; -fx-spacing: 10;">
                                    <children>
                                        <BarChart fx:id="barChartProgresso" prefHeight="350.0" prefWidth="470.0">
                                            <xAxis>
                                                <CategoryAxis side="BOTTOM" />
                                            </xAxis>
                                            <yAxis>
                                                <NumberAxis side="LEFT" />
                                            </yAxis>
                                        </BarChart>
                                    </children>
                                </VBox>
                            </children>
                        </HBox>

                        <!-- Tabela de Alunos -->
                        <VBox alignment="TOP_CENTER" prefWidth="1160.0" style="-fx-spacing: 10; -fx-background-color: #EAEAEA; -fx-background-radius: 8; -fx-padding: 15;">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 5;">
                                    <children>
                                        <Label style="-fx-font-weight: bold;" text="Alunos">
                                            <font>
                                                <Font size="18.0" />
                                            </font>
                                        </Label>
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Label text="Buscar:" />
                                        <TextField fx:id="txtBuscaAluno" onKeyReleased="#filtrarAlunos" prefWidth="200.0" promptText="Digite o nome do aluno..." />
                                        <Label text="Filtrar por Orientador:" />
                                        <ComboBox fx:id="comboFiltroOrientador" onAction="#filtrarPorOrientador" prefWidth="200.0" />
                                    </children>
                                </HBox>
                                <TableView fx:id="tabelaAlunos" prefHeight="250.0" prefWidth="1130.0">
                                    <columns>
                                        <TableColumn fx:id="colNomeAluno" minWidth="200.0" prefWidth="250.0" text="Nome" />
                                        <TableColumn fx:id="colOrientador" minWidth="150.0" prefWidth="200.0" text="Orientador" />
                                        <TableColumn fx:id="colTotalSecoes" minWidth="100.0" prefWidth="150.0" text="Total de Seções" />
                                        <TableColumn fx:id="colSecoesAprovadas" minWidth="120.0" prefWidth="150.0" text="Seções Aprovadas" />
                                        <TableColumn fx:id="colProgresso" minWidth="100.0" prefWidth="150.0" text="Progresso" />
                                    </columns>
                           <columnResizePolicy>
                              <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                           </columnResizePolicy>
                                </TableView>
                            </children>
                        </VBox>

                        <!-- Tabela de Orientadores -->
                        <VBox alignment="TOP_CENTER" prefWidth="1160.0" style="-fx-spacing: 10; -fx-background-color: #EAEAEA; -fx-background-radius: 8; -fx-padding: 15;">
                            <children>
                                <Label style="-fx-font-weight: bold;" text="Orientadores">
                                    <font>
                                        <Font size="18.0" />
                                    </font>
                                </Label>
                                <TableView fx:id="tabelaOrientadores" prefHeight="200.0" prefWidth="1130.0">
                                    <columns>
                                        <TableColumn fx:id="colNomeOrientador" minWidth="200.0" prefWidth="350.0" text="Nome" />
                                        <TableColumn fx:id="colEmailOrientador" minWidth="200.0" prefWidth="400.0" text="Email" />
                                        <TableColumn fx:id="colQtdAlunos" minWidth="100.0" prefWidth="150.0" text="Quantidade de Alunos" />
                                    </columns>
                           <columnResizePolicy>
                              <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                           </columnResizePolicy>
                                </TableView>
                            </children>
                        </VBox>
                    </children>
                </VBox>
            </content>
        </ScrollPane>
    </children>
</VBox>

